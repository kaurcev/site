<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Распознавание голоса и чтение текста</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <button onclick="speech ()">Слушать</button>
    <button onclick="talk ()">Проговорить</button>
    <button onclick="stop ()">Остановить</button>
    <p id="text"></p>

    <script>
        // Создаем распознаватель
        var recognizer = new webkitSpeechRecognition();

        // Ставим опцию, чтобы распознавание началось ещё до того, как пользователь закончит говорить
        recognizer.interimResults = true;

        // Какой язык будем распознавать?
        recognizer.lang = 'ru-Ru';

        // Используем колбек для обработки результатов
        recognizer.onresult = function(event) {
            var result = event.results[event.resultIndex];
            if (result.isFinal) {
                document.getElementById('text').innerHTML = result[0].transcript;
                window.open('https://yandex.ru/search/?text=' + result[0].transcript + "&lang=ru")
            } else {
                document.getElementById('text').innerHTML = result[0].transcript;
            }
        };

        function speech() {
            // Начинаем слушать микрофон и распознавать голос
            recognizer.start();
        }



        function talk() {
            var synth = window.speechSynthesis;
            var utterance = new SpeechSynthesisUtterance(document.getElementById('text').innerHTML);
            synth.speak(utterance);
        }

        function stop() {
            synth.pause();
        }
    </script>

</body>

</html>